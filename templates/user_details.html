{% extends "base.html" %}

{% block content %}
  <div class="card mt-3 mx-auto mt-5" style="max-width: 30rem;">
    <div class="row no-gutters">
      <div class="col-md-4">
        <img src="{{image_file}}" class="card-img rounded-circle user-img mt-2 ml-2 p-2" alt="{{user.name}} profile picture">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">{{user.name}}</h5>
          <h5 class="card-title">{{user.email}}</h5>

              <a class="btn btn-sm btn-primary" href="/users/{{user.id}}/edit" role="button">Edit User</a>
              <form style="display:inline;" action="/users/{{ user.id }}/delete" method="POST">
                <button class="btn btn-sm btn-danger">Delete User</button>
              </form> 

            <h6 class="card-subtitle mt-2 text-muted">Favorite Stocks</h6>
            <table class="table table-sm">
              <tbody id='favorite-stock'>
            {% for favorite in user.favorites %}
                <tr>
                  <td><a href="/{{favorite.stock}}" style="text-decoration:none;">{{favorite.stock}}</a></td>
                  <td><a class='btn btn-sm btn-danger' href="/users/{{favorite.stock}}/remove" role="button"><i class="fas fa-trash-alt"></i></a></td>
                </tr>
            {% endfor %}
              </tbody>
            </table>           
        </div>
      </div>
    </div>
  </div>
{% endblock %}